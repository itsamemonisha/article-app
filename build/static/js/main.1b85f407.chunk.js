(this.webpackJsonphello=this.webpackJsonphello||[]).push([[0],{43:function(e,t,s){},44:function(e,t,s){},63:function(e,t,s){},73:function(e,t,s){},74:function(e,t,s){},75:function(e,t,s){},76:function(e,t,s){},77:function(e,t,s){},78:function(e,t,s){},79:function(e,t,s){},80:function(e,t,s){},82:function(e,t,s){},83:function(e,t,s){},84:function(e,t,s){},85:function(e,t,s){},88:function(e,t,s){"use strict";s.r(t);var a=s(22),r=s.n(a),n=s(33),i=s(1),c=s.n(i),o=s(34),l=s.n(o),d=(s(43),s(11)),j=(s(44),s(5)),h=s(4),b=s(3),m=s.n(b),u=s(16),p=s(2),O=s(7),A=s(8),g=s(10),x=s(9),v=function(e){var t=!0;return Object.values(e).forEach((function(e){return e.length>0&&(t=!1)})),t},f=RegExp(/\S+@\S+\.\S+/),N=(s(63),Object(i.createContext)({isLoggedIn:!1,userId:null,token:null,login:function(){},logout:function(){}})),P=s(0),S=function(e){Object(g.a)(s,e);var t=Object(x.a)(s);function s(){return Object(O.a)(this,s),t.apply(this,arguments)}return Object(A.a)(s,[{key:"render",value:function(){return Object(P.jsxs)("div",{className:"text-center spinner",children:[Object(P.jsx)("div",{className:"spinner-border",role:"status",children:Object(P.jsx)("span",{className:"sr-only",children:"Loading..."})}),Object(P.jsx)("h4",{children:" Please Wait ..."})]})}}]),s}(i.Component),y=s(35),k=function(e){console.log(e)},w=function(e){Object(g.a)(s,e);var t=Object(x.a)(s);function s(e){var a;return Object(O.a)(this,s),(a=t.call(this,e)).mySubmitHandler=function(e){a.setState((function(e){return{isloading:!0}}));var t=a.context;e.preventDefault(),v(a.state.errors),a.state.isLoginMode?m.a.post("/user/login",a.state.user).then((function(e){return a.setState((function(e){return{isloading:!1}})),a.props.history.push("/"),t.login(e.data.userId,e.data.token),m.a.get("/profile/viewprofile")})).then((function(e){var t=e.data.profile.username;localStorage.setItem("profileData",JSON.stringify({username:t}))})).catch((function(e){a.setState({isloading:!1,error:Object(p.a)(Object(p.a)({},a.state.error),{},{message:e.response.data.message,code:e.response.status})})})):(a.setState((function(e){return{isloading:!0}})),m.a.post("/user/signup",a.state.user).then((function(e){a.setState((function(e){return{isloading:!1}}))})).catch((function(e){a.setState({error:!0})}))),a.setState({user:Object(p.a)(Object(p.a)({},a.state.user),{},{email:"",password:""})})},a.myChangeHandler=function(e){var t=e.target.name,s=e.target.value,r=a.state.errors,n=e.target,i=n.name,c=n.value;switch(i){case"email":if(0===c.length){r.email=c.length<5?"Email is Required!":"";break}if(c.length>0){r.email=f.test(c)?"":"Email is not valid!";break}break;case"password":c.length>0&&(r.password=c.length<6?"Password must be 6 characters long!":""),0===c.length&&(r.password=0===c.length?"Password is required!":"")}a.setState({errors:r,user:Object(p.a)(Object(p.a)({},a.state.user),{},Object(u.a)({},t,s))},(function(){}))},a.switchLoginhandler=function(){a.setState((function(e){return{isLoginMode:!e.isLoginMode}}))},a.state={user:{email:"",password:""},error:{message:"",code:""},isloading:!1,isLoginMode:!0,errors:{email:"",password:""}},a}return Object(A.a)(s,[{key:"render",value:function(){var e,t;return this.state.isloading&&(e=Object(P.jsx)(P.Fragment,{children:Object(P.jsx)("div",{className:"container loading",children:Object(P.jsx)("div",{className:"mar-20",children:Object(P.jsx)(S,{})})})})),this.state.error.code&&(t=Object(P.jsx)(P.Fragment,{children:Object(P.jsx)("div",{className:"container error container-short",children:Object(P.jsxs)("div",{className:"mar-20",children:[Object(P.jsxs)("h6",{children:["Error Code - ",this.state.error.code]}),Object(P.jsxs)("h6",{children:["Error Message - ",this.state.error.message]})]})})})),Object(P.jsxs)(P.Fragment,{children:[e,t,Object(P.jsxs)("div",{className:"container container-short py-5",children:[Object(P.jsx)("h1",{className:"pt-2 py-2",children:this.state.isLoginMode?"Login ":"Sign Up"}),Object(P.jsx)("hr",{}),Object(P.jsxs)("form",{onSubmit:this.mySubmitHandler,className:"pt-4",children:[Object(P.jsxs)("div",{className:"form-group",children:[Object(P.jsx)("label",{htmlFor:"email",children:"Email "}),Object(P.jsx)("input",{type:"email",name:"email",value:this.state.user.email,className:"form-control "+(this.state.errors.email?"is-invalid":""),placeholder:"Enter your email",required:!0,onChange:this.myChangeHandler}),this.state.errors.email.length>0&&Object(P.jsx)("div",{className:"mt-1",children:Object(P.jsx)("span",{className:"error text-danger",children:this.state.errors.email})})]}),Object(P.jsxs)("div",{className:"form-group",children:[Object(P.jsx)("label",{htmlFor:"password",children:"Password "}),Object(P.jsx)("input",{type:"password",name:"password",value:this.state.user.password,className:"form-control "+(this.state.errors.password?"is-invalid":""),placeholder:"Enter your Password",required:"required","data-error":"Please enter your full name.",onChange:this.myChangeHandler}),this.state.errors.password.length>0&&Object(P.jsxs)("div",{className:"mt-1",children:[" ",Object(P.jsx)("span",{className:"error text-danger",children:this.state.errors.password})]})]}),Object(P.jsxs)("div",{className:"form-group",children:[Object(P.jsx)("button",{style:{marginRight:"15px"},type:"submit",className:"btn btn-primary",disabled:this.state.user.email&&this.state.user.password&&v(this.state.errors)?"":"disabled",children:this.state.isLoginMode?"Login":"Sign Up"}),Object(P.jsxs)("button",{type:"button",className:"btn btn-primary",onClick:this.switchLoginhandler,children:["Switch to ",this.state.isLoginMode?"Sign Up":"Login"," "]}),Object(P.jsx)("br",{}),Object(P.jsx)("br",{}),Object(P.jsx)(y.GoogleLogin,{clientId:"716939999501-afms22jh9qgkl8h0p5qnrual6l7p8vcp.apps.googleusercontent.com",buttonText:"Google Login",onSuccess:k,onFailure:k,cookiePolicy:"single_host_origin"})]})]})]})]})}}]),s}(i.Component);w.contextType=N;var L=Object(j.h)(w),T=(s(73),function(e){return Object(P.jsx)("div",{className:"backdrop",onClick:e.onClick})}),H=(s(74),function(e){return Object(P.jsx)("header",{className:"main-header",children:e.children})}),W=(s(75),function(e){var t=Object(j.g)(),s=Object(i.useContext)(N);return Object(P.jsxs)("ul",{className:"nav-links",children:[Object(P.jsx)("li",{children:Object(P.jsx)(h.c,{to:"/",exact:!0,children:"Home"})}),s.isLoggedIn&&Object(P.jsxs)(P.Fragment,{children:[" ",Object(P.jsx)("li",{children:Object(P.jsx)(h.c,{to:"/profile",children:"Profile"})}),Object(P.jsx)("li",{children:Object(P.jsx)(h.c,{to:"/mypost",children:"My Articles"})}),Object(P.jsx)("li",{children:Object(P.jsx)(h.c,{to:"/create",children:"New Article"})})]}),!s.isLoggedIn&&Object(P.jsx)("li",{children:Object(P.jsx)(h.c,{to:"/auth",children:"Login/Register"})}),s.isLoggedIn&&Object(P.jsx)("li",{children:Object(P.jsx)("button",{onClick:function(){console.log(t),s.logout(),t.push("/auth")},children:"Logout"})})]})}),D=(s(76),function(e){return Object(P.jsx)("aside",{className:"side-drawer",onClick:e.closed,children:e.children})}),U=(s(77),s.p+"static/media/asset-1.3e989482.png");var F=function(){return Object(P.jsx)("div",{className:"mobile-only",children:Object(P.jsx)("div",{className:"footer-icons",children:Object(P.jsx)("ul",{className:"navbar-nav "})})})},q=function(e){var t=["SideDrawer","Close"],s=Object(i.useState)(!1),a=Object(d.a)(s,2),r=a[0],n=a[1];r&&(t=["SideDrawer","Open"]);var o=function(){n(!1)};return Object(P.jsxs)(c.a.Fragment,{children:[r&&Object(P.jsx)(T,{onClick:o}),Object(P.jsx)("div",{className:t.join(" "),children:Object(P.jsxs)(D,{open:r,closed:o,children:[Object(P.jsx)("h3",{className:"text-left mt-2 pl-4",children:"Article App"}),Object(P.jsx)("hr",{}),Object(P.jsxs)("nav",{className:"main-navigation__drawer-nav",children:[Object(P.jsx)("img",{src:U,alt:"logo"}),Object(P.jsx)("div",{className:"mobile",children:Object(P.jsx)(F,{})}),Object(P.jsx)(W,{})]})]})}),Object(P.jsxs)(H,{children:[Object(P.jsxs)("button",{className:"main-navigation__menu-btn",onClick:function(){n(!0)},children:[Object(P.jsx)("span",{}),Object(P.jsx)("span",{}),Object(P.jsx)("span",{})]}),Object(P.jsx)("h1",{className:"main-navigation__title",children:Object(P.jsx)(h.b,{to:"/",children:"Article App"})}),Object(P.jsx)("nav",{className:"main-navigation__header-nav",children:Object(P.jsx)(W,{})})]})]})};function E(e){var t=document.createElement("div");return t.innerHTML=e,e=t.innerText}s(78);var M="data:image/jpeg;base64,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";var C=function(e){var t,s,a=Object(i.useState)(e),r=Object(d.a)(a,2),n=r[0],o=r[1],l=Object(i.useState)(!1),b=Object(d.a)(l,2),u=b[0],v=b[1],f=Object(i.useState)(),N=Object(d.a)(f,2),y=N[0],k=(N[1],Object(i.useState)()),w=Object(d.a)(k,2),L=w[0],T=(w[1],Object(j.g)().location.pathname),H=function(e){Object(g.a)(s,e);var t=Object(x.a)(s);function s(){var e;Object(O.a)(this,s);for(var a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))).addLike=function(){var t=e.state.likes+1;e.setState({likes:t})},e.state={likes:0},e}return Object(A.a)(s,[{key:"render",value:function(){return Object(P.jsxs)("button",{class:"button",onClick:this.addLike,children:[" \u273f ",this.state.likes," "]})}}]),s}(c.a.Component);return Object(i.useEffect)((function(){v(!0),m.a.get("/profile/bycreator/"+e.creator).then((function(t){v(!1),o(Object(p.a)(Object(p.a)({},e),{},{user:t.data.profile}))})).catch((function(e){v(!1)}))}),[e]),Object(P.jsxs)(P.Fragment,{children:[L?Object(P.jsx)("div",{className:"container error container-short",children:Object(P.jsxs)("div",{className:"mar-20",children:[Object(P.jsx)("h5",{children:L}),Object(P.jsx)("h4",{children:y})]})}):null,u?Object(P.jsx)("div",{className:"container loading",children:Object(P.jsx)("div",{className:"mar-20",children:Object(P.jsx)(S,{})})}):null,Object(P.jsx)("div",{className:"col-md-6 col-sm-6 col-xs-12 showblog mb-3",children:Object(P.jsxs)("div",{className:"showblog_card card",children:[Object(P.jsx)("div",{className:"showblog_card_image",style:{backgroundImage:"url(".concat(e.imagePath,")")},children:Object(P.jsx)("div",{className:"show_auth_img",children:Object(P.jsx)(h.b,{to:"/public/"+(null===(t=n.user)||void 0===t?void 0:t.username),style:{backgroundImage:"url(".concat((null===(s=n.user)||void 0===s?void 0:s.imagePath)?n.user.imagePath:M,")")}})})}),Object(P.jsxs)("div",{className:"card-body",children:[Object(P.jsx)("h5",{className:"card-title pt-3",children:"/mypost"===T?Object(P.jsx)(h.b,{to:"/mypost/"+e._id,className:"title",children:e.title}):Object(P.jsx)(h.b,{to:"/post/"+e._id,className:"title",children:e.title})}),Object(P.jsxs)("p",{className:"showblog_content",children:["".concat(E(e.content.substring(0,80)),"..."),Object(P.jsxs)("span",{children:[" ",Object(P.jsx)("b",{children:Object(P.jsx)(H,{item_id:e.id})})]})]})]})]})})]})};s(79);var R=function(e){return Object(P.jsx)("div",{className:"featured-user",children:Object(P.jsx)("ul",{className:"list-unstyled",children:Object(P.jsxs)("li",{children:[Object(P.jsx)(h.b,{className:"d-flex align-items-center",to:"/public/"+e.username,children:Object(P.jsx)("img",{src:e.imagePath,className:"img-fluid mr-2",alt:e.username})}),Object(P.jsx)("div",{className:"podcaster",children:Object(P.jsxs)(h.b,{to:"/public/"+e.username,children:[Object(P.jsx)("span",{className:"d-block username",children:e.username}),Object(P.jsx)("span",{className:"small",children:"".concat(E(e.bio.substring(0,80)),"...")})]})})]})})})},V=function(e){Object(g.a)(s,e);var t=Object(x.a)(s);function s(e){var a;return Object(O.a)(this,s),(a=t.call(this,e)).state={posts:[],users:[],isloading:!1},a}return Object(A.a)(s,[{key:"componentDidMount",value:function(){var e=this;this.setState((function(e){return{isloading:!0}})),Promise.all([m.a.get("/posts"),m.a.get("/profile/profiles")]).then((function(t){e.setState((function(e){return{isloading:!1}})),e.setState(Object(p.a)(Object(p.a)({},e.state.posts),{},{posts:t[0].data.posts})),e.setState(Object(p.a)(Object(p.a)({},e.state.users),{},{users:t[1].data.profile}))})).catch((function(t){e.setState((function(e){return{isloading:!1}}))}))}},{key:"render",value:function(){var e,t;return this.state.isloading&&(e=Object(P.jsx)(S,{})),this.state.posts&&(t=this.state.posts.map((function(e,t){return Object(P.jsx)(C,Object(p.a)(Object(p.a)({},e),t),t)}))),this.state.users&&this.state.users.map((function(e,t){return Object(P.jsx)(R,Object(p.a)(Object(p.a)({},e),t),t)})),Object(P.jsxs)("div",{children:[Object(P.jsx)("div",{className:"container hero",children:Object(P.jsxs)("div",{className:"row align-items-center text-center text-md-left",children:[Object(P.jsxs)("div",{className:"col-lg-4",children:[Object(P.jsx)("h1",{className:"mb-3 display-3",children:"Write about what you love!"}),Object(P.jsx)("p",{children:"Economics, Technology, Sports, Science and more"})]}),Object(P.jsx)("div",{className:"col-lg-8",children:Object(P.jsx)("img",{src:U,className:"img-fluid",alt:"img"})})]})}),Object(P.jsx)("div",{className:"container hero py-5",children:Object(P.jsx)("div",{className:"row",children:Object(P.jsx)("div",{className:"col-md-12 col-sm-6",children:Object(P.jsx)("div",{className:"row",children:t})})})}),Object(P.jsx)("div",{className:"container loading",children:e})]})}}]),s}(i.Component),Z=(s(80),s(37)),B=s.n(Z),I=function(e){e.handleClose;var t=e.show,s=e.children,a=t?"modal display-block":"modal display-none";return Object(P.jsx)("div",{className:a,children:Object(P.jsx)("section",{className:"modal-main",children:Object(P.jsx)("div",{className:"modal-dailog",children:Object(P.jsx)("div",{className:"modal-content",children:s})})})})},X=function(e){Object(g.a)(s,e);var t=Object(x.a)(s);function s(e){var a;return Object(O.a)(this,s),(a=t.call(this,e)).showModal=function(){a.setState({show:!0})},a.hideModal=function(){a.setState({show:!1})},a.deletePost=function(e){a.setState((function(e){return{isloading:!0}})),m.a.delete("/posts/"+e).then((function(e){a.setState((function(e){return{isloading:!1}})),a.props.history.push("/mypost")})).catch((function(e){a.setState({isloading:!1,error:Object(p.a)(Object(p.a)({},a.state.error),{},{message:e.response.data.message,code:e.response.status})})}))},a.state={singlePost:{},error:{message:"",code:""},isloading:!1,show:!1},a}return Object(A.a)(s,[{key:"componentDidMount",value:function(){var e=this;this.setState((function(e){return{isloading:!0}}));var t=this.props.match.params.id;m.a.get("/posts/"+t).then((function(t){return e.setState(Object(p.a)(Object(p.a)({},e.state.singlePost),{},{singlePost:t.data,isloading:!1})),m.a.get("/profile/bycreator/"+t.data.creator)})).then((function(t){e.setState(Object(p.a)(Object(p.a)({},e.state.singlePost),{},{user:t.data.profile,isloading:!1}))})).catch((function(t){e.setState({isloading:!1,error:Object(p.a)(Object(p.a)({},e.state.error),{},{message:t.response.data.message,code:t.response.status})})}))}},{key:"render",value:function(){var e,t,s,a=this;this.state.isloading&&(e=Object(P.jsx)(P.Fragment,{children:Object(P.jsx)("div",{className:"container loading",children:Object(P.jsx)("div",{className:"mar-20",children:Object(P.jsx)(S,{})})})})),this.state.error.code&&(t=Object(P.jsx)(P.Fragment,{children:Object(P.jsx)("div",{className:"container error container-short",children:Object(P.jsxs)("div",{className:"mar-20",children:[Object(P.jsx)("h5",{children:this.state.error.code}),Object(P.jsx)("h4",{children:this.state.error.message})]})})}));var r=this.state.singlePost,n=this.state.user;return this.state.singlePost&&(s=Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)("h2",{children:r.title}),Object(P.jsxs)("div",{className:"SingleBlog_avatar",children:[Object(P.jsx)(h.b,{to:"/public/"+(null===n||void 0===n?void 0:n.username),rel:"noopener noreferrer",children:Object(P.jsx)("img",{src:(null===n||void 0===n?void 0:n.imagePath)?n.imagePath:M,alt:"img",width:"75",height:"75"})}),Object(P.jsx)(h.b,{to:"/public/"+(null===n||void 0===n?void 0:n.username),rel:"noopener noreferrer",children:Object(P.jsx)("p",{children:null===n||void 0===n?void 0:n.username})}),Object(P.jsx)("p",{children:B()(r.postDate).format("MMM DD, YYYY hh:mm")})]}),Object(P.jsxs)("div",{className:"singlePost_content pt-3",children:[Object(P.jsx)("img",{src:r.imagePath,className:"img-fluid",alt:"prof"}),Object(P.jsx)("div",{className:"text pt-3",children:Object(P.jsx)("p",{children:r.content})})]})]})),Object(P.jsxs)(P.Fragment,{children:[e,t,Object(P.jsx)("div",{className:"container py-4 SingleBlog ",children:Object(P.jsxs)("div",{className:"row",children:["/mypost/:id"===this.props.match.path&&Object(P.jsx)("div",{className:"col-md-3 col-xs-12 ",children:Object(P.jsxs)("div",{className:"list-group",children:[Object(P.jsx)(h.b,{to:"/edit/"+r._id,className:"list-group-item list-group-item-action",children:"Edit"}),Object(P.jsx)("button",{type:"button",onClick:this.showModal,className:"list-group-item list-group-item-action",children:"Delete"})]})}),Object(P.jsxs)("div",{className:"col-md-9 col-xs-12 main",children:[Object(P.jsxs)(I,{show:this.state.show,handleClose:this.hideModal,children:[Object(P.jsxs)("div",{className:"modal-header",children:[Object(P.jsx)("h2",{children:r.title}),Object(P.jsx)("button",{type:"button",className:"close","data-dismiss":"modal",onClick:this.hideModal,children:"\xd7"})]}),Object(P.jsx)("div",{className:"modal-body",children:"Confirm delete"}),Object(P.jsxs)("div",{className:"modal-footer",children:[Object(P.jsx)("button",{type:"button",className:"btn btn-danger",onClick:function(){return a.deletePost(r._id)},children:"Delete "}),Object(P.jsx)("button",{type:"button",className:"btn btn-outline-dark",onClick:this.hideModal,"data-dismiss":"modal",children:"Close"})]})]}),s]})]})})]})}}]),s}(i.Component),K=s(17),z=(s(82),function(e){var t=Object(i.useState)(),s=Object(d.a)(t,2),a=s[0],r=s[1],n=Object(i.useState)(),c=Object(d.a)(n,2),o=c[0],l=c[1],j=Object(i.useState)(!1),h=Object(d.a)(j,2),b=h[0],m=h[1],u=Object(i.useRef)();Object(i.useEffect)((function(){if(a){var e=new FileReader;e.onload=function(){l(e.result)},e.readAsDataURL(a)}}),[a]);return Object(P.jsxs)("div",{className:"",children:[Object(P.jsx)("input",{id:e.id,name:e.name,ref:u,style:{display:"none"},type:"file",accept:".jpg,.png,.jpeg",onChange:function(t){var s,n=b;return t.target.files&&1===t.target.files.length?(s=t.target.files[0],r(s),m(!0),n=!0):(m(!1),n=!1),e.onInput(e.id,s,n),a}}),Object(P.jsxs)("div",{className:"image-upload ".concat(e.center&&"center"),children:[Object(P.jsx)("button",{type:"button",className:"btn btn-outline-primary",onClick:function(){u.current.click()},children:"PICK IMAGE"}),o&&Object(P.jsx)("div",{className:"image-upload__preview",children:Object(P.jsx)("img",{src:o,alt:"Preview"})}),!o&&e.value&&Object(P.jsx)("div",{className:"image-upload__preview",children:Object(P.jsx)("img",{src:e.value,alt:"Preview"})})]}),!b&&Object(P.jsx)("p",{children:e.errorText})]})}),G=function(e){Object(g.a)(s,e);var t=Object(x.a)(s);function s(e){var a;return Object(O.a)(this,s),(a=t.call(this,e)).imageHandler=function(e,t,s){a.setState({Post:Object(p.a)(Object(p.a)({},a.state.Post),{},Object(u.a)({},e,t))},(function(){}))},a.myChangeHandler=function(e){var t,s,r=null===(t=e.target)||void 0===t?void 0:t.name,n=null===(s=e.target)||void 0===s?void 0:s.value,i=a.state.errors,c=e.target,o=c.name,l=c.value;switch(o){case"title":l.length>0&&(i.title=l.length<6?"Title   must be 5 characters long!":""),0===l.length&&(i.title=0===l.length?"title is required!":"");break;case"content":l.length>0&&(i.content=l.length<20?"Content  must be 20 characters long!":""),0===l.length&&(i.content=0===l.length?"Content is required!":"");break;case"imagePath":0===l.length&&(i.imagePath=0===l.length?"Image is required!":"")}a.setState(Object(p.a)(Object(p.a)({},i),{},{Post:Object(p.a)(Object(p.a)({},a.state.Post),{},Object(u.a)({},r,n))}),(function(){}))},a.state={Post:{id:"",title:"",content:"",imagePath:"",created:""},error:{message:"",code:""},isloading:!1,haserror:!1,errors:{title:"",content:"",imagePath:""}},a.mySubmitHandler=a.mySubmitHandler.bind(Object(K.a)(a)),a.myChangeHandler=a.myChangeHandler.bind(Object(K.a)(a)),a}return Object(A.a)(s,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.path,s=this.props.match.params.id;JSON.parse(localStorage.getItem("profileData"))||"/create"!=t||this.props.history.push("/createProfile"),"/edit/:id"===t&&(this.setState((function(e){return{isloading:!0}})),m.a.get("/posts/"+s).then((function(t){var s=t.data;e.setState({isloading:!1,Post:Object(p.a)(Object(p.a)({},e.state.Post),{},{id:s._id,title:s.title,content:s.content,imagePath:s.imagePath})})})).catch((function(t){e.setState({isloading:!1,error:Object(p.a)(Object(p.a)({},e.state.error),{},{message:t.response.data.message,code:t.response.status})})}))),console.log(this.state)}},{key:"mySubmitHandler",value:function(e){var t=this;this.setState((function(e){return{isloading:!0}}));var s,a=this.props.match.path,r=this.props.match.params.id,n=new Date;e.preventDefault(),"object"===typeof this.state.Post.imagePath?((s=new FormData).append("id",this.state.Post.id),s.append("title",this.state.Post.title),s.append("content",this.state.Post.content),s.append("image",this.state.Post.imagePath,this.state.Post.title),s.append("postDate",n.toString())):s={id:this.state.Post.id,title:this.state.Post.title,content:this.state.Post.content,image:this.state.Post.imagePath,postDate:n.toString()},"/edit/:id"===a?m.a.put("/posts/"+r,s).then((function(e){t.setState((function(e){return{isloading:!1}})),t.props.history.push("/")})).catch((function(e){t.setState({isloading:!1,error:Object(p.a)(Object(p.a)({},t.state.error),{},{message:e.response.data.message,code:e.response.status})})})):m.a.post("/posts",s).then((function(e){t.setState((function(e){return{isloading:!1}})),t.props.history.push("/")})).catch((function(e){t.setState({isloading:!1,error:Object(p.a)(Object(p.a)({},t.state.error),{},{message:e.response.data.message,code:e.response.status})})})),this.setState({Post:Object(p.a)(Object(p.a)({},this.state.Post),{},{title:"",content:"",imagePath:""})})}},{key:"render",value:function(){var e,t;return this.state.isloading&&(e=Object(P.jsx)(P.Fragment,{children:Object(P.jsx)("div",{className:"container loading",children:Object(P.jsx)("div",{className:"mar-20",children:Object(P.jsx)(S,{})})})})),this.state.error.code&&(t=Object(P.jsx)(P.Fragment,{children:Object(P.jsx)("div",{className:"container error container-short",children:Object(P.jsxs)("div",{className:"mar-20",children:[Object(P.jsx)("h5",{children:this.state.error.code}),Object(P.jsx)("h4",{children:this.state.error.message})]})})})),Object(P.jsxs)(P.Fragment,{children:[e,t,Object(P.jsx)("div",{className:"container container-short",children:Object(P.jsxs)("form",{onSubmit:this.mySubmitHandler,className:"pt-4",children:[Object(P.jsx)("h3",{className:"text-center mb-3",children:"Create Article"}),Object(P.jsxs)("div",{className:"form-group",children:[Object(P.jsx)("label",{htmlFor:"title",children:"Title "}),Object(P.jsx)("input",{type:"title",name:"title",value:this.state.Post.title,className:"form-control "+(this.state.errors.title?"is-invalid":""),placeholder:"Enter the title",required:!0,onChange:this.myChangeHandler}),this.state.errors.title.length>0&&Object(P.jsx)("div",{className:"mt-1",children:Object(P.jsx)("span",{className:"error text-danger",children:this.state.errors.title})})]}),Object(P.jsxs)("div",{className:"form-group",children:[Object(P.jsx)("label",{htmlFor:"password",children:" Content "}),Object(P.jsx)("textarea",{type:"text",name:"content",rows:"4",value:this.state.Post.content,className:"form-control "+(this.state.errors.content?"is-invalid":""),placeholder:"Enter the  description",required:"required",onChange:this.myChangeHandler}),this.state.errors.content.length>0&&Object(P.jsx)("div",{className:"mt-1",children:Object(P.jsx)("span",{className:"error text-danger",children:this.state.errors.content})})]}),Object(P.jsxs)("div",{className:"form-group",children:[Object(P.jsx)("label",{htmlFor:"password",children:"Image "}),Object(P.jsx)(z,{id:"imagePath",name:"imagePath",onInput:this.imageHandler,value:this.state.Post.imagePath,errorText:"Please provide an image."}),this.state.errors.imagePath.length>0&&Object(P.jsx)("div",{className:"mt-1",children:Object(P.jsx)("span",{className:"error text-danger",children:this.state.errors.imagePath})})]}),Object(P.jsx)("div",{className:"form-group",children:Object(P.jsx)("button",{style:{marginRight:"15px"},type:"submit",className:"btn btn-primary",disabled:this.state.Post.title&&this.state.Post.content&&this.state.Post.imagePath?"":"disabled",children:"Submit"})})]})})]})}}]),s}(i.Component),J=(s(83),function(e){Object(g.a)(s,e);var t=Object(x.a)(s);function s(e){var a;return Object(O.a)(this,s),(a=t.call(this,e)).state={user:{},posts:[],isloading:!1,error:{message:"",code:""}},a}return Object(A.a)(s,[{key:"componentDidMount",value:function(){var e,t=this,s=this.props.match.path,a=this.props.match.params.id;(this.setState((function(e){return{isloading:!0}})),JSON.parse(localStorage.getItem("profileData"))||"/profile"!==s||this.props.history.push("/createProfile"),a)?m.a.get("/profile/"+a).then((function(e){return t.setState(Object(p.a)(Object(p.a)({},t.state.user),{},{user:e.data.profile,isloading:!1})),m.a.get("/profile/"+a+"/mypost")})).then((function(e){t.setState(Object(p.a)(Object(p.a)({},t.state.posts),{},{posts:e.data.post,isloading:!1}))})).catch((function(e){t.setState({isloading:!1,error:Object(p.a)(Object(p.a)({},t.state.error),{},{message:e.response.data.message,code:e.response.status})})})):m.a.get("/profile/viewprofile").then((function(s){e=s.data.profile.username,t.setState(Object(p.a)(Object(p.a)({},t.state.user),{},{user:s.data.profile,isloading:!1})),m.a.get("/profile/"+e+"/mypost").then((function(e){t.setState(Object(p.a)(Object(p.a)({},t.state.posts),{},{posts:e.data.post,isloading:!1}))}))})).catch((function(e){t.setState({isloading:!1,error:Object(p.a)(Object(p.a)({},t.state.error),{},{message:e.response.data.message,code:e.response.status})})}))}},{key:"render",value:function(){var e,t,s,a=JSON.parse(localStorage.getItem("profileData")),r=this.props.match.path;this.state.isloading&&(e=Object(P.jsx)(P.Fragment,{children:Object(P.jsx)("div",{className:"container loading",children:Object(P.jsx)("div",{className:"mar-20",children:Object(P.jsx)(S,{})})})})),this.state.error.code&&(t=Object(P.jsx)(P.Fragment,{children:Object(P.jsx)("div",{className:"container error container-short",children:Object(P.jsxs)("div",{className:"mar-20",children:[Object(P.jsx)("h5",{children:this.state.error.code}),Object(P.jsx)("h4",{children:this.state.error.message})]})})})),this.state.posts&&(s=this.state.posts.map((function(e,t){return Object(P.jsx)(C,Object(p.a)(Object(p.a)({},e),t),t)})));var n=this.state.user;return Object(P.jsxs)(P.Fragment,{children:[e,t,Object(P.jsx)("div",{className:"container py-5 container-short",children:Object(P.jsxs)("div",{className:"row profile",children:[Object(P.jsxs)("div",{className:"col-md-8 col-xs-12 order-2 order-lg-1",children:[Object(P.jsx)("h2",{className:"text-black font-weight-light mb-4",children:n.username}),a||"/profile"===r?Object(P.jsx)(h.b,{to:"/profile/edit/"+n._id,children:"Edit Profile"}):null,Object(P.jsx)("p",{children:n.bio})]}),Object(P.jsx)("div",{className:"col-md-4 col-xs-12 order-1 order-lg-2",children:Object(P.jsx)("img",{className:"img-fluid w-50 rounded-circle mb-3",src:n.imagePath,alt:n.username})})]})}),Object(P.jsxs)("div",{className:"container py-5 container-short",children:[Object(P.jsxs)("h2",{className:"font-weight-light text-black",children:[n.username,"'s Posts"]}),Object(P.jsx)("hr",{}),0===this.state.posts.length?Object(P.jsx)("h2",{className:"mt-5 text-center",children:"No Posts Found"}):null,Object(P.jsx)("div",{className:"row",children:s})]})]})}}]),s}(i.Component)),Y=function(e){Object(g.a)(s,e);var t=Object(x.a)(s);function s(e){var a;return Object(O.a)(this,s),(a=t.call(this,e)).state={posts:[],error:{message:"",code:""},isloading:!1},a}return Object(A.a)(s,[{key:"componentDidMount",value:function(){var e=this;this.setState((function(e){return{isloading:!0}})),m.a.get("/posts/mypost").then((function(t){e.setState(Object(p.a)(Object(p.a)({},e.state.posts),{},{posts:t.data.posts,isloading:!1}))})).catch((function(t){e.setState({isloading:!1,error:Object(p.a)(Object(p.a)({},e.state.error),{},{message:t.response.data.message,code:t.response.status})})}))}},{key:"render",value:function(){var e,t,s;return this.state.isloading&&(e=Object(P.jsx)(P.Fragment,{children:Object(P.jsx)("div",{className:"container loading",children:Object(P.jsx)("div",{className:"mar-20",children:Object(P.jsx)(S,{})})})})),this.state.error.code&&(t=Object(P.jsx)(P.Fragment,{children:Object(P.jsx)("div",{className:"container error container-short",children:Object(P.jsxs)("div",{className:"mar-20",children:[Object(P.jsx)("h5",{children:this.state.error.code}),Object(P.jsx)("h4",{children:this.state.error.message})]})})})),this.state.posts&&(s=this.state.posts.map((function(e,t){return Object(P.jsx)(C,Object(p.a)(Object(p.a)({},e),t),t)}))),Object(P.jsxs)(P.Fragment,{children:[e,t,Object(P.jsx)("div",{className:"container hero py-5",children:Object(P.jsx)("div",{className:"row",children:Object(P.jsxs)("div",{className:"col-md-12 col-xs-12",children:[0===this.state.posts.length?Object(P.jsx)("h2",{className:"text-center",children:"No Posts Found"}):null,Object(P.jsx)("div",{className:"row",children:s})]})})})]})}}]),s}(i.Component),Q=function(e){Object(g.a)(s,e);var t=Object(x.a)(s);function s(e){var a;return Object(O.a)(this,s),(a=t.call(this,e)).imageHandler=function(e,t,s){a.setState({Post:Object(p.a)(Object(p.a)({},a.state.Post),{},Object(u.a)({},e,t))},(function(){}))},a.myChangeHandler=function(e){var t,s,r=null===(t=e.target)||void 0===t?void 0:t.name,n=null===(s=e.target)||void 0===s?void 0:s.value,i=a.state.errors,c=e.target,o=c.name,l=c.value;switch(o){case"username":l.length>0&&(i.username=l.length<6?"Title   must be 5 characters long!":""),0===l.length&&(i.username=0===l.length?"username is required!":"");break;case"bio":l.length>0&&(i.bio=l.length<20?"Content  must be 20 characters long!":""),0===l.length&&(i.bio=0===l.length?"Content is required!":"");break;case"imagePath":0===l.length&&(i.imagePath=0===l.length?"Image is required!":"")}a.setState(Object(p.a)(Object(p.a)({},i),{},{Post:Object(p.a)(Object(p.a)({},a.state.Post),{},Object(u.a)({},r,n))}),(function(){}))},a.state={Post:{id:"",username:"",bio:"",imagePath:"",created:""},error:{message:"",code:""},isloading:!1,haserror:!1,errors:{username:"",bio:"",imagePath:""}},a.mySubmitHandler=a.mySubmitHandler.bind(Object(K.a)(a)),a.myChangeHandler=a.myChangeHandler.bind(Object(K.a)(a)),a}return Object(A.a)(s,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.path;this.props.match.params.id;"/profile/edit/:id"===t&&(this.setState((function(e){return{isloading:!0}})),m.a.get("/profile/viewprofile").then((function(t){var s=t.data.profile;e.setState({isloading:!1,Post:Object(p.a)(Object(p.a)({},e.state.Post),{},{id:s._id,username:s.username,bio:s.bio,imagePath:s.imagePath})})})).catch((function(t){e.setState({isloading:!1,error:Object(p.a)(Object(p.a)({},e.state.error),{},{message:t.response.data.message,code:t.response.status})})})))}},{key:"mySubmitHandler",value:function(e){var t=this;this.setState((function(e){return{isloading:!0}}));var s,a=this.props.match.path,r=this.props.match.params.id;e.preventDefault(),"object"===typeof this.state.Post.imagePath?((s=new FormData).append("id",this.state.Post.id),s.append("username",this.state.Post.username),s.append("bio",this.state.Post.bio),s.append("image",this.state.Post.imagePath,this.state.Post.username)):s={id:this.state.Post.id,username:this.state.Post.username,bio:this.state.Post.bio,image:this.state.Post.imagePath},"/profile/edit/:id"===a?m.a.put("/profile/edit/"+r,s).then((function(e){t.setState((function(e){return{isloading:!1}})),t.props.history.push("/profile")})).catch((function(e){t.setState({isloading:!1,error:Object(p.a)(Object(p.a)({},t.state.error),{},{message:e.response.data.message,code:e.response.status})})})):m.a.post("/profile/create",s).then((function(e){t.setState((function(e){return{isloading:!0}}));var s=e.data.profile.username;localStorage.setItem("profileData",JSON.stringify({username:s})),t.props.history.push("/")})).catch((function(e){t.setState({isloading:!1,error:Object(p.a)(Object(p.a)({},t.state.error),{},{message:e.response.data.message,code:e.response.status})})})),this.setState({Post:Object(p.a)(Object(p.a)({},this.state.Post),{},{username:"",bio:"",imagePath:""})})}},{key:"render",value:function(){var e,t;return this.state.isloading&&(e=Object(P.jsx)(P.Fragment,{children:Object(P.jsx)("div",{className:"container loading",children:Object(P.jsx)("div",{className:"mar-20",children:Object(P.jsx)(S,{})})})})),this.state.error.code&&(t=Object(P.jsx)(P.Fragment,{children:Object(P.jsx)("div",{className:"container error container-short",children:Object(P.jsxs)("div",{className:"mar-20",children:[Object(P.jsx)("h5",{children:this.state.error.code}),Object(P.jsx)("h4",{children:this.state.error.message})]})})})),Object(P.jsxs)(P.Fragment,{children:[e,t,Object(P.jsx)("div",{className:"container container-short",children:Object(P.jsxs)("form",{onSubmit:this.mySubmitHandler,className:"pt-4",children:[Object(P.jsx)("h3",{className:"text-center mb-3",children:"Create Profile"}),Object(P.jsxs)("div",{className:"form-group",children:[Object(P.jsx)("label",{htmlFor:"username",children:"Username "}),Object(P.jsx)("input",{type:"username",name:"username",value:this.state.Post.username,className:"form-control "+(this.state.errors.username?"is-invalid":""),placeholder:"Enter the username",required:!0,onChange:this.myChangeHandler}),this.state.errors.username.length>0&&Object(P.jsx)("div",{className:"mt-1",children:Object(P.jsx)("span",{className:"error text-danger",children:this.state.errors.username})})]}),Object(P.jsxs)("div",{className:"form-group",children:[Object(P.jsx)("label",{htmlFor:"password",children:"Password "}),Object(P.jsx)("textarea",{type:"text",name:"bio",rows:"4",value:this.state.Post.bio,className:"form-control "+(this.state.errors.bio?"is-invalid":""),placeholder:"Enter the  description",required:"required",onChange:this.myChangeHandler}),this.state.errors.bio.length>0&&Object(P.jsx)("div",{className:"mt-1",children:Object(P.jsx)("span",{className:"error text-danger",children:this.state.errors.bio})})]}),Object(P.jsxs)("div",{className:"form-group",children:[Object(P.jsx)("label",{htmlFor:"password",children:"Image "}),Object(P.jsx)(z,{id:"imagePath",name:"imagePath",onInput:this.imageHandler,value:this.state.Post.imagePath,errorText:"Please provide an image."}),this.state.errors.imagePath.length>0&&Object(P.jsx)("div",{className:"mt-1",children:Object(P.jsx)("span",{className:"error text-danger",children:this.state.errors.imagePath})})]}),Object(P.jsx)("div",{className:"form-group",children:Object(P.jsx)("button",{style:{marginRight:"15px"},type:"submit",className:"btn btn-primary",disabled:this.state.Post.username&&this.state.Post.bio&&this.state.Post.imagePath?"":"disabled",children:"Create Profile"})})]})})]})}}]),s}(i.Component);s(84);var _=function(){return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)("footer",{className:"fadeInUp col-md-12",children:Object(P.jsx)(F,{})}),Object(P.jsx)("h5",{children:"Share your thoughts."})]})};s(85);var $,ee=function(){return Object(P.jsx)(P.Fragment,{children:Object(P.jsx)("div",{className:"footer-icon-sidebar",children:Object(P.jsx)("ul",{className:"navbar-nav"})})})},te=function(e){var t,s,a=Object(i.useState)(!1),r=Object(d.a)(a,2),n=r[0],c=r[1],o=Object(i.useState)(),l=Object(d.a)(o,2),b=l[0],u=l[1],p=Object(i.useState)(!1),O=Object(d.a)(p,2),A=O[0],g=O[1],x=Object(i.useState)(!0),v=Object(d.a)(x,2),f=v[0],y=v[1],k=Object(i.useCallback)((function(e,t,s){c(t),g(e),y(!1);var a=s||new Date((new Date).getTime()+36e5);u(a),localStorage.setItem("userData",JSON.stringify({userId:e,token:t,expiration:a.toISOString()})),m.a.defaults.headers.common.Authorization="Bearer ".concat(t)}),[]),w=Object(i.useCallback)((function(){c(null),u(null),g(null),localStorage.removeItem("userData"),localStorage.removeItem("profileData");m.a.defaults.headers.common.Authorization="Bearer ".concat(null)}),[]);return Object(i.useEffect)((function(){if(n&&b){var e=b.getTime()-(new Date).getTime();$=setTimeout(w,e)}else clearTimeout($)}),[n,w,b]),Object(i.useEffect)((function(){var e=JSON.parse(localStorage.getItem("userData"));y(!1),e&&e.token&&new Date(e.expiration)>new Date&&k(e.userId,e.token,new Date(e.expiration))}),[k]),f?s=Object(P.jsx)(P.Fragment,{children:Object(P.jsx)("div",{className:"container loading",children:Object(P.jsx)("div",{className:"mar-20",children:Object(P.jsx)(S,{})})})}):t=Object(P.jsxs)(P.Fragment,{children:[n?Object(P.jsx)(j.b,{path:"/create",exact:!0,component:G}):Object(P.jsx)(j.a,{to:"/auth"}),n?Object(P.jsx)(j.b,{path:"/createProfile",exact:!0,component:Q}):Object(P.jsx)(j.a,{to:"/auth"}),n?Object(P.jsx)(j.b,{path:"/edit/:id",exact:!0,component:G}):Object(P.jsx)(j.a,{to:"/auth"}),n?Object(P.jsx)(j.b,{path:"/mypost",exact:!0,component:Y}):Object(P.jsx)(j.a,{to:"/auth"}),n?Object(P.jsx)(j.b,{path:"/mypost/:id",exact:!0,component:X}):Object(P.jsx)(j.a,{to:"/auth"}),n?Object(P.jsx)(j.b,{path:"/profile",exact:!0,component:J}):Object(P.jsx)(j.a,{to:"/auth"}),n?Object(P.jsx)(j.b,{path:"/profile/edit/:id",component:Q}):Object(P.jsx)(j.a,{to:"/auth"})]}),Object(P.jsx)(N.Provider,{value:{isLoggedIn:!!n,token:n,userId:A,login:k,logout:w},children:Object(P.jsxs)("div",{className:"App",children:[Object(P.jsxs)("main",{children:[Object(P.jsxs)(h.a,{children:[Object(P.jsx)(q,{}),Object(P.jsxs)(j.d,{children:[Object(P.jsx)(j.b,{path:"/post/:id",exact:!0,component:X}),Object(P.jsx)(j.b,{path:"/public/:id",component:J}),Object(P.jsx)(j.b,{path:"/auth",component:L,exact:!0}),Object(P.jsx)(j.b,{path:"/",component:V,exact:!0}),t]})]}),Object(P.jsx)(ee,{}),Object(P.jsx)(_,{})]}),s]})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s(86),s(87);setInterval(Object(n.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m.a.get("https://zany-periodic-fisherman.glitch.me/test").then((function(e){console.log(e)})).catch((function(e){console.log(e.response)}));case 1:case"end":return e.stop()}}),e)}))),6e4),m.a.defaults.baseURL="http://localhost:3001/api";var se,ae=JSON.parse(localStorage.getItem("userData"));ae&&(se=ae.token),m.a.defaults.headers.common.Authorization="Bearer ".concat(se),m.a.defaults.headers.post["Content-Type"]="application/json",m.a.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),m.a.interceptors.response.use((function(e){return e}),(function(e){return console.log(e.response),Promise.reject(e)})),l.a.render(Object(P.jsx)(c.a.StrictMode,{children:Object(P.jsx)(te,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[88,1,2]]]);
//# sourceMappingURL=main.1b85f407.chunk.js.map